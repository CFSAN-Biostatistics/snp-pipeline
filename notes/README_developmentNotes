Notes:
20140310-har: To run snp pipeline code with Jamie agona example, I did the following:
  1. ln -s /home/hugh.rand/mnt /Volumes
  2. cd /Volumes/gnome/gnome3/Papers/AgonaMOM/ReferenceBased
  3. #little one
     python 4snplist_matrix_P_02262014.py -n 1 -d /Volumes/gnome/gnome3/Papers/AgonaMOM/ReferenceBased/ -r NC_011149.fasta -f pathsToBamTest.txt
     #big one
     python 4snplist_matrix_P_02262014.py -n 1 -d /Volumes/gnome/gnome3/Papers/AgonaMOM/ReferenceBased/ -r NC_011149.fasta -f pathsToBamTest.txt
20130310-har: To run snp pipline code with simple virus example, do:
  1. cd ~/projects/snppipeline/snppipeline/
  2. python snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
20130310-har: As well, to run with old code with simple virus example, do:
  2. python 4snplist_matrix_P_01022014.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
20130310-har: As well, to run with Yan's new code with simple virus example, do:
  2. python 4snplist_matrix_P_02262014.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
20140313-har: Jamie found a problem comparing the current code to the old code. I think
  this is not picked up in the current test becuase there are no gaps in it and the
  problem is with the handling of gaps. Currently, I can compare the following runs
  and get different results:
    ./snppipelinenew.py -n 10 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHugh.txt -r NC_011149.fasta -l Agona_127_SNPlistYan -a Agona_127_SNPmaYanWithHughCode.fa
    python 4snplist_matrix_P_02262014.py -n 10 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHugh.txt -r NC_011149.fasta -l Agona_127_SNPlistYan -a Agona_127_SNPmaYanWithYanCode.fa
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithHughCode.fa /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithYanCode.fa
  These runs take too long, so I need to make a shorter test case and try it. Make file
  with fewer samples:
    /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/pathsToBamYanForHughShort.txt
  Try running this one:
    ./snppipelinenew.py -n 1 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHughShort.txt -r NC_011149.fasta -l Agona_127_SNPlistYan -a Agona_127_SNPmaYanWithHughCodeShort.fa
    python 4snplist_matrix_P_02262014.py -n 10 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHughShort.txt -r NC_011149.fasta -l Agona_127_SNPlistYan -a Agona_127_SNPmaYanWithYanCodeShort.fa
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithHughCodeShort.fa /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithYanCodeShort.fa
  Hmm... With this shorter case, I don't get a difference. Time to look more carefully
    at the differences.
  Having looked at the differences, it is not just gaps. Hmm... Not too clear
    what the problem is.
20140313-har: Let's think about this.
  Each run of the code produces:
    1. List of SNPs for all samples (the -l flag argument).
    2. A fasta file of the SNPs.
  We now have 4 runs (my code vs. yan, full vs. short case). How do these files compare? Well,
    first let us make a list of them:
      List of SNPs file         
        my code   short           Agona_127_SNPlistYanFullHughShort
        yan       short           Agona_127_SNPlistYanFullShort
        my code   full            Agona_127_SNPlistYanFullHugh
        yan       full            Agona_127_SNPlistYanFull
      Fasta file
        my code   short           Agona_127_SNPmaYanWithHughCodeShort.fa
        yan       short           Agona_127_SNPmaYanWithYanCodeShort.fa
        my code   full            Agona_127_SNPmaYanWithHughCode.fa
        yan       full            Agona_127_SNPmaYanWithYanCode.fa
  We didn't keep all these, so time to re-run and create them.
    ./snppipelinenew.py -n 14 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHughShort.txt -r NC_011149.fasta -l Agona_127_SNPlistYanFullHughShort -a Agona_127_SNPmaYanWithHughCodeShort.fa
    python 4snplist_matrix_P_02262014.py -n 14 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHughShort.txt -r NC_011149.fasta -l Agona_127_SNPlistYanFullShort -a Agona_127_SNPmaYanWithYanCodeShort.fa
    ./snppipelinenew.py -n 14 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHugh.txt -r NC_011149.fasta -l Agona_127_SNPlistYanFullHugh -a Agona_127_SNPmaYanWithHughCode.fa
    python 4snplist_matrix_P_02262014.py -n 14 -d /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/ -f pathsToBamYanForHugh.txt -r NC_011149.fasta -l Agona_127_SNPlistYanFull -a Agona_127_SNPmaYanWithYanCode.fa
  Compare files with:
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPlistYanFullHughShort /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPlistYanFullShort
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithHughCodeShort.fa /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithYanCodeShort.fa
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPlistYanFullHugh /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPlistYanFull
    diff /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithHughCode.fa /home/hugh.rand/mnt/gnome3/Papers/AgonaMOM/ReferenceBased/Agona_127_SNPmaYanWithYanCode.fa
20140314-har: Starting to move to a more careful check of new code runs. Remember that a run
  of old code is done by:
    python 4snplist_matrix_P_02262014.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
  This then produces the following files:
     ../test/testForOriginalCode/snplist.txt
     ../test/testForOriginalCode/snpma.fasta
     ../test/testForOriginalCode/sample1/reads.pileup
     ../test/testForOriginalCode/sample2/reads.pileup
     ../test/testForOriginalCode/sample3/reads.pileup
     ../test/testForOriginalCode/sample4/reads.pileup
  We want to check that these are the same with each new run. The least elegant way to do this
  might be to copy the files to a directory:
    ../test/codeComparisonFiles
  Then, when we run the code:
    ./snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
  Do a set of diffs each time we run the code:
     diff ../test/testForOriginalCode/snplist.txt ../test/codeComparisonFiles/snplist.txt
     diff ../test/testForOriginalCode/snpma.fasta ../test/codeComparisonFiles/snpma.fasta
     diff ../test/testForOriginalCode/sample1/reads.pileup ../test/codeComparisonFiles/sample1/reads.pileup
     diff ../test/testForOriginalCode/sample2/reads.pileup ../test/codeComparisonFiles/sample2/reads.pileup
     diff ../test/testForOriginalCode/sample3/reads.pileup ../test/codeComparisonFiles/sample3/reads.pileup
     diff ../test/testForOriginalCode/sample4/reads.pileup ../test/codeComparisonFiles/sample4/reads.pileup
  Also built another test case from five Agona samples
    python 4snplist_matrix_P_02262014.py -n 10 -d ~/projects/snppipeline/test/testAgonaMOM/ -f path.txt -r NC_011149.fasta -l snplist.txt -a snpma.fasta
  And restructured the data for test comparisons. Thus, when we need to run the test:
    #run two tests
    ./snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testForOriginalCode/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta
    ./snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testAgonaMOM/        -f path.txt -r NC_011149.fasta -l snplist.txt -a snpma.fasta
    
    #diff on first test
    diff ../test/testForOriginalCode/snplist.txt ../test/codeComparisonFiles/testForOriginalCode/snplist.txt
    diff ../test/testForOriginalCode/snpma.fasta ../test/codeComparisonFiles/testForOriginalCode/snpma.fasta
    diff ../test/testForOriginalCode/sample1/reads.pileup ../test/codeComparisonFiles/testForOriginalCode/sample1/reads.pileup
    diff ../test/testForOriginalCode/sample2/reads.pileup ../test/codeComparisonFiles/testForOriginalCode/sample2/reads.pileup
    diff ../test/testForOriginalCode/sample3/reads.pileup ../test/codeComparisonFiles/testForOriginalCode/sample3/reads.pileup
    diff ../test/testForOriginalCode/sample4/reads.pileup ../test/codeComparisonFiles/testForOriginalCode/sample4/reads.pileup

    #diff on second test
    diff ../test/testAgonaMOM/snplist.txt ../test/codeComparisonFiles/testAgonaMOM/snplist.txt
    diff ../test/testAgonaMOM/snpma.fasta ../test/codeComparisonFiles/testAgonaMOM/snpma.fasta
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup

20140317-har:Restructured the data for test comparisons. Thus, when we need to run the test:

    #run two tests
    ./snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testLambdaVirus/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta -i True
    ./snppipelinenew.py -n 10 -d ~/projects/snppipeline/test/testAgonaMOM/        -f path.txt -r NC_011149.fasta -l snplist.txt -a snpma.fasta -i True
    
    #diff on first test
    diff ../test/testLambdaVirus/snplist.txt ../test/codeComparisonFiles/testLambdaVirus/snplist.txt
    diff ../test/testLambdaVirus/snpma.fasta ../test/codeComparisonFiles/testLambdaVirus/snpma.fasta
    diff ../test/testLambdaVirus/sample1/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample1/reads.pileup
    diff ../test/testLambdaVirus/sample2/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample2/reads.pileup
    diff ../test/testLambdaVirus/sample3/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample3/reads.pileup
    diff ../test/testLambdaVirus/sample4/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample4/reads.pileup
    diff ../test/testLambdaVirus/referenceSNP.fasta   ../test/codeComparisonFiles/testLambdaVirus/referenceSNP.fasta

    #diff on second test
    diff ../test/testAgonaMOM/snplist.txt ../test/codeComparisonFiles/testAgonaMOM/snplist.txt
    diff ../test/testAgonaMOM/snpma.fasta ../test/codeComparisonFiles/testAgonaMOM/snpma.fasta
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup
    diff ../test/testAgonaMOM/referenceSNP.fasta ../test/codeComparisonFiles/testAgonaMOM/referenceSNP.fasta

20140319-har: Having a go at installing PyVCF for use by the code.
$python -m easy_install PyVCF
Searching for PyVCF
Best match: PyVCF 0.6.7
Processing PyVCF-0.6.7-py2.7-linux-x86_64.egg
PyVCF 0.6.7 is already the active version in easy-install.pth
Installing vcf_filter.py script to /home/hugh.rand/anaconda/bin
Installing vcf_melt script to /home/hugh.rand/anaconda/bin

Using /home/hugh.rand/anaconda/lib/python2.7/site-packages/PyVCF-0.6.7-py2.7-linux-x86_64.egg
Processing dependencies for PyVCF
Finished processing dependencies for PyVCF

20140320-har: Built first egg with:
python setup.py bdist_egg
I did this from the directory: /home/hugh.rand/projects/snppipeline
Not sure all the tests went along for the ride. And what about this file? Probably
don't want it going out? Need to sort all this out. Also need to sort out
a virtual machine for testing the egg.

20140324-har:Renamed code so tests change to:

    #run two tests
    ./snppipeline.py -n 10 -d ~/projects/snppipeline/test/testLambdaVirus/ -f path.txt -r lambda_virus.fa -l snplist.txt -a snpma.fasta -i True
    ./snppipeline.py -n 10 -d ~/projects/snppipeline/test/testAgonaMOM/        -f path.txt -r NC_011149.fasta -l snplist.txt -a snpma.fasta -i True
    
    #diff on first test
    diff ../test/testLambdaVirus/snplist.txt ../test/codeComparisonFiles/testLambdaVirus/snplist.txt
    diff ../test/testLambdaVirus/snpma.fasta ../test/codeComparisonFiles/testLambdaVirus/snpma.fasta
    diff ../test/testLambdaVirus/sample1/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample1/reads.pileup
    diff ../test/testLambdaVirus/sample2/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample2/reads.pileup
    diff ../test/testLambdaVirus/sample3/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample3/reads.pileup
    diff ../test/testLambdaVirus/sample4/reads.pileup ../test/codeComparisonFiles/testLambdaVirus/sample4/reads.pileup
    diff ../test/testLambdaVirus/referenceSNP.fasta   ../test/codeComparisonFiles/testLambdaVirus/referenceSNP.fasta

    #diff on second test
    diff ../test/testAgonaMOM/snplist.txt ../test/codeComparisonFiles/testAgonaMOM/snplist.txt
    diff ../test/testAgonaMOM/snpma.fasta ../test/codeComparisonFiles/testAgonaMOM/snpma.fasta
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000448/reads.pileup
    diff ../test/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/CFSAN_genomes/CFSAN000449/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178930/reads.pileup
    diff ../test/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup ../test/codeComparisonFiles/testAgonaMOM/samples/SRA_data/ERR178931/reads.pileup
    diff ../test/testAgonaMOM/referenceSNP.fasta ../test/codeComparisonFiles/testAgonaMOM/referenceSNP.fasta

201400324-har: Setting up tests to run more easily is a work in progress. Currently,
    from the directory /home/hugh.rand/projects/snppipeline I can sort of get things
    to work with:
        PYTHONPATH="/home/hugh.rand/projects/snppipeline/snppipeline"; export PYTHONPATH 
        ./test/test_snppipeline.py
        ./test/test_utils.py

20140324-har: Test code works, though will want to change hard-coded paths in future. From
    the directory /home/hugh.rand/projects/snppipeline, can run the snppipeline test by:
    ./test/test_snppipeline.py

20140331-har: Am now running pylint to aid in improving code:
    pylint snppipeline/snppipeline.py
    pylint snppipeline/utils.py

20140401-har: Virtual machine to use in testing egg install is available via vmware:
    vmplayer